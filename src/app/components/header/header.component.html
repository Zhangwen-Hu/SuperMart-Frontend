<mat-toolbar color="primary">
  <a routerLink="/" class="logo">SuperMart</a>
  <span class="spacer"></span>
  
  <ng-container *ngIf="isLoggedIn">
    <!-- User Navigation -->
    <ng-container *ngIf="!isAdmin">
      <a mat-button routerLink="/products" routerLinkActive="active">Products</a>
      <a mat-button routerLink="/user-home" routerLinkActive="active">My Orders</a>
      <a mat-button routerLink="/watchlist" routerLinkActive="active">Watchlist</a>
    </ng-container>

    <!-- Admin Navigation -->
    <ng-container *ngIf="isAdmin">
      <a mat-button routerLink="/admin-home" routerLinkActive="active">Dashboard</a>
      <a mat-button routerLink="/admin-products" routerLinkActive="active">Products</a>
      <a mat-button routerLink="/admin-orders" routerLinkActive="active">Orders</a>
    </ng-container>

    <!-- Common authenticated user actions -->
    <a mat-button [matBadge]="cartItemCount" matBadgeColor="accent" routerLink="/cart" *ngIf="!isAdmin">
      <mat-icon>shopping_cart</mat-icon>
    </a>
    <button mat-button (click)="logout()">
      <mat-icon>logout</mat-icon> Logout ({{ username }})
    </button>
  </ng-container>

  <!-- Non-authenticated user actions -->
  <ng-container *ngIf="!isLoggedIn">
    <a mat-button routerLink="/login" routerLinkActive="active">Login</a>
    <a mat-button routerLink="/register" routerLinkActive="active">Register</a>
  </ng-container>
</mat-toolbar> 